{% extends "layout.html" %}

{% block title %}–î–∞—à–±–æ—Ä–¥ - Workers System{% endblock %}

{% block page_content %}
<div class="page-header">
    <div>
        <h1 class="page-title">–î–∞—à–±–æ—Ä–¥</h1>
        <p class="page-subtitle">–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤</p>
    </div>
</div>

<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-card-content">
            <div>
                <p class="stat-card-title">–í—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π</p>
                <p class="stat-card-value">{{ stats.total_tasks or 0 }}</p>
            </div>
            <div class="stat-card-icon" style="color: #3b82f6;">üìã</div>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-card-content">
            <div>
                <p class="stat-card-title">–û–±—â–∏–π –¥–æ—Ö–æ–¥</p>
                <p class="stat-card-value">{{ (stats.total_revenue or 0) | format_currency }}</p>
            </div>
            <div class="stat-card-icon" style="color: #10b981;">üí∞</div>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-card-content">
            <div>
                <p class="stat-card-title">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                <p class="stat-card-value">{{ stats.total_users or 0 }}</p>
            </div>
            <div class="stat-card-icon" style="color: #f59e0b;">üë•</div>
        </div>
    </div>
    
    <div class="stat-card">
        <div class="stat-card-content">
            <div>
                <p class="stat-card-title">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏</p>
                <p class="stat-card-value">{{ stats.workers_count or 0 }}</p>
            </div>
            <div class="stat-card-icon" style="color: #8b5cf6;">üîß</div>
        </div>
    </div>
</div>

<!-- Status Breakdown -->
{% if stats.by_status %}
<div class="card">
    <h2 style="margin: 0 0 24px 0; font-size: 1.25rem; font-weight: bold; color: #1f2937;">
        –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞–Ω–∏–π
    </h2>
    
    <div class="grid grid-4">
        {% for status, count in stats.by_status.items() %}
        {% set status_info = {
            'draft': {'label': '–ß–µ—Ä–Ω–æ–≤–∏–∫–∏', 'color': '#6b7280'},
            'pending': {'label': '–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏', 'color': '#f59e0b'},
            'approved': {'label': '–û–¥–æ–±—Ä–µ–Ω—ã', 'color': '#3b82f6'},
            'published': {'label': '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã', 'color': '#10b981'},
            'in_progress': {'label': '–í —Ä–∞–±–æ—Ç–µ', 'color': '#8b5cf6'},
            'completed': {'label': '–í—ã–ø–æ–ª–Ω–µ–Ω—ã', 'color': '#059669'},
            'cancelled': {'label': '–û—Ç–º–µ–Ω–µ–Ω—ã', 'color': '#ef4444'},
            'urgent': {'label': '–°—Ä–æ—á–Ω—ã–µ', 'color': '#dc2626'}
        }.get(status, {'label': status, 'color': '#6b7280'}) %}
        
        <div style="padding: 16px; border-radius: 6px; background-color: #f9fafb; border: 2px solid {{ status_info.color }}20;">
            <div style="display: flex; align-items: center; justify-content: space-between;">
                <span style="font-size: 0.875rem; color: #6b7280;">
                    {{ status_info.label }}
                </span>
                <span style="font-size: 1.25rem; font-weight: bold; color: {{ status_info.color }};">
                    {{ count }}
                </span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}